# DeepResearch-Agent ğŸš€

[![Python Version](https://img.shields.io/badge/Python-3.13+-blue.svg)](https://python.org)
[![FastAPI](https://img.shields.io/badge/FastAPI-Latest-green.svg)](https://fastapi.tiangolo.com)
[![React](https://img.shields.io/badge/React-19-61dafb.svg)](https://reactjs.org)
[![LangGraph](https://img.shields.io/badge/LangGraph-Latest-purple.svg)](https://langchain-ai.github.io/langgraph)
[![OpenSearch](https://img.shields.io/badge/OpenSearch-3-FEC042.svg)](https://opensearch.org)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

## ğŸ“– é¡¹ç›®ç®€ä»‹

DeepResearch-Agent æ˜¯ä¸€ä¸ªåŸºäº **å¤šæ™ºèƒ½ä½“åä½œ** çš„ **AIæ·±åº¦ç ”ç©¶ç³»ç»Ÿ**ï¼Œé‡‡ç”¨Clean Architectureæ¶æ„è®¾è®¡ï¼Œé›†æˆäº†æ–‡æ¡£è§£æã€RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰ã€å¤šæ¨¡å‹LLMæ”¯æŒç­‰ä¼ä¸šçº§åŠŸèƒ½ã€‚

è¯¥ç³»ç»Ÿèƒ½å¤Ÿï¼š
- **æ™ºèƒ½è§£æ**å„ç±»å¤æ‚æ–‡æ¡£ï¼ˆPDFã€Wordç­‰ï¼‰
- **è‡ªåŠ¨åŒ–**ç”Ÿæˆç ”ç©¶è®¡åˆ’å’Œæ·±åº¦åˆ†æ
- **å®æ—¶äº¤äº’å¼**çš„æ™ºèƒ½ä½“åä½œæµç¨‹
- **å¯è§†åŒ–**çš„è¿›åº¦è¿½è¸ªå’Œç»“æœå±•ç¤º
- **ä¼ä¸šçº§**çš„å¯è§‚æµ‹æ€§å’Œè¿½è¸ªèƒ½åŠ›

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¯ å¤šæ™ºèƒ½ä½“åä½œç³»ç»Ÿ
- **åè°ƒå™¨ï¼ˆOrchestratorï¼‰**: å…¨å±€æµç¨‹æ§åˆ¶ä¸ä»»åŠ¡è°ƒåº¦
- **è§„åˆ’å™¨ï¼ˆPlannerï¼‰**: æ™ºèƒ½ç”Ÿæˆç ”ç©¶ä»»åŠ¡å¤§çº²
- **æ‰§è¡Œå™¨ï¼ˆWorkerï¼‰**: æ·±åº¦ç ”ç©¶ä¸å†…å®¹ç”Ÿæˆ
- **åæ€å™¨ï¼ˆReflectorï¼‰**: è´¨é‡è¯„ä¼°ä¸ç»“æœä¼˜åŒ–

### ğŸ“š æ™ºèƒ½æ–‡æ¡£è§£æ
- **Doclingå¼•æ“**: æ”¯æŒå¤æ‚æ–‡æ¡£ç»“æ„è§£æï¼ˆè¡¨æ ¼ã€å…¬å¼ã€å›¾ç‰‡ï¼‰
- **VLMå¢å¼º**: è§†è§‰è¯­è¨€æ¨¡å‹å¢å¼ºæ–‡æ¡£ç†è§£
- **å¤šæ¨¡æ€å¤„ç†**: è‡ªåŠ¨è¯†åˆ«å…¬å¼ã€å›¾è¡¨ã€è¡¨æ ¼ç­‰å¤æ‚å…ƒç´ 
- **æ™ºèƒ½åˆ†å—**: åŸºäºè¯­ä¹‰å’Œç»“æ„çš„æ–‡æ¡£åˆ‡ç‰‡ä¼˜åŒ–

### ğŸ” é«˜çº§æ£€ç´¢ç³»ç»Ÿ
- **OpenSearch**: é«˜æ€§èƒ½æ··åˆæ£€ç´¢å¼•æ“
- **BGE Reranker**: GPUåŠ é€Ÿçš„æ–‡æ¡£é‡æ’åº
- **å¤šæ¨¡å‹æ”¯æŒ**: æ”¯æŒå¤šç§åµŒå…¥æ¨¡å‹å’Œé‡æ’åºæ¨¡å‹
- **è¯­ä¹‰æ£€ç´¢**: ç»“åˆå‘é‡åŒ–ä¸å…³é”®è¯çš„æ··åˆæ£€ç´¢

### ğŸ’¬ å®æ—¶äº¤äº’
- **SSEæµå¼ä¼ è¾“**: å®æ—¶å±•ç¤ºç ”ç©¶è¿›åº¦
- **äººæœºåä½œ**: æ”¯æŒäººå·¥å®¡æ ¸å’Œåé¦ˆè¿­ä»£
- **è¿›åº¦å¯è§†åŒ–**: ç›´è§‚å±•ç¤ºå„é˜¶æ®µæ‰§è¡ŒçŠ¶æ€
- **Markdownæ¸²æŸ“**: æ”¯æŒLaTeXæ•°å­¦å…¬å¼çš„å¯Œæ–‡æœ¬å±•ç¤º

### ğŸ”§ å¯è§‚æµ‹æ€§
- **Langfuseé›†æˆ**: å…¨é“¾è·¯è¿½è¸ªå’Œæ€§èƒ½ç›‘æ§
- **ç»“æ„åŒ–æ—¥å¿—**: åˆ†çº§æ—¥å¿—è®°å½•ç³»ç»Ÿ
- **æŒ‡æ ‡è¿½è¸ª**: æ™ºèƒ½ä½“æ€§èƒ½ä¸æˆæœ¬åˆ†æ

---

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### æŠ€æœ¯æ ˆ

#### åç«¯
- **FastAPI**: é«˜æ€§èƒ½å¼‚æ­¥Webæ¡†æ¶
- **LangGraph**: æ™ºèƒ½ä½“ç¼–æ’æ¡†æ¶
- **Docling**: æ–‡æ¡£è§£æå¼•æ“
- **OpenSearch**: æœç´¢å¼•æ“ä¸å‘é‡å­˜å‚¨
- **LiteLLM**: å¤šæ¨¡å‹ç»Ÿä¸€ä»£ç†
- **Pydantic**: æ•°æ®éªŒè¯ä¸åºåˆ—åŒ–

#### å‰ç«¯
- **React 19**: ç°ä»£åŒ–å‰ç«¯æ¡†æ¶
- **Vite**: æé€Ÿæ„å»ºå·¥å…·
- **Tailwind CSS**: åŸå­åŒ–CSSæ¡†æ¶
- **React-Markdown**: Markdownæ¸²æŸ“
- **KaTeX**: æ•°å­¦å…¬å¼æ¸²æŸ“

#### åŸºç¡€è®¾æ–½
- **Docker Compose**: å®¹å™¨åŒ–ç¼–æ’
- **Python 3.13+**: ç°ä»£Pythonç‰¹æ€§
- **UV**: é«˜æ€§èƒ½åŒ…ç®¡ç†å™¨

### ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Frontend (React)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ ç ”ç©¶ä»»åŠ¡å¯åŠ¨  â”‚  â”‚  å®æ—¶è¿›åº¦å±•ç¤º  â”‚  â”‚  ç»“æœæŸ¥çœ‹     â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                  â”‚                  â”‚
          â–¼                  â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Backend API (FastAPI)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  /api/research/* â”‚  â”‚ /api/ingest/*  â”‚  â”‚ /api/document/*  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                  â”‚                  â”‚
          â–¼                  â–¼                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                Multi-Agent Layer (LangGraph)                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚åè°ƒå™¨    â”‚  â”‚ è§„åˆ’å™¨   â”‚  â”‚ æ‰§è¡Œå™¨   â”‚  â”‚ åæ€å™¨   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜   â”‚
â”‚        â”‚            â”‚            â”‚            â”‚          â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Infrastructure Layer                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ OpenSearch   â”‚  â”‚  TEI Rerankerâ”‚  â”‚  Documents   â”‚      â”‚
â”‚  â”‚ (Search + KV)â”‚  â”‚ (GPU Cache)  â”‚  â”‚  Storage     â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Python**: 3.13+
- **Node.js**: 18+
- **Docker**: 20.10+
- **GPU**: å¯é€‰ï¼ˆç”¨äºBGEé‡æ’åºåŠ é€Ÿï¼‰

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/your-org/deepresearch-agent.git
cd deepresearch-agent
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„APIå¯†é’¥
# - OpenAI API Key
# - Anthropic API Key
# - å…¶ä»–äº‘æœåŠ¡APIå¯†é’¥
```

### 3. å¯åŠ¨åŸºç¡€è®¾æ–½æœåŠ¡

```bash
# å¯åŠ¨OpenSearchå’Œä¾èµ–æœåŠ¡
docker-compose up -d opensearch-node opensearch-dashboards tei-reranker
```

### 4. é…ç½®LiteLLMä»£ç†

```bash
# å®‰è£…ä¾èµ–
uv sync

# å¯åŠ¨LiteLLMä»£ç†ï¼ˆç«¯å£4000ï¼‰
litellm --config config.yaml
```

### 5. å¯åŠ¨åç«¯æœåŠ¡

```bash
# å¯åŠ¨FastAPIæœåŠ¡
uvicorn src.backend.api.server:app --host 0.0.0.0 --port 8000 --reload
```

### 6. å¯åŠ¨å‰ç«¯åº”ç”¨

```bash
cd src/frontend

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

è®¿é—® `http://localhost:5173` å¼€å§‹ä½¿ç”¨ï¼

---

## ğŸ“‹ é…ç½®è¯´æ˜

### LiteLLMæ¨¡å‹é…ç½®

åœ¨ `config.yaml` ä¸­é…ç½®ä½ çš„LLMæ¨¡å‹ï¼š

```yaml
model_list:
  - model_name: "glm-4-flashx"  # æ™ºè°±GLMæ¨¡å‹
    litellm_params:
      model: "openai/glm-4-flashx-250414"
      api_base: "https://open.bigmodel.cn/api/paas/v4/"
      api_key: "YOUR_API_KEY"

  - model_name: "qwen3-max"     # é˜¿é‡Œé€šä¹‰åƒé—®
    litellm_params:
      model: "openai/qwen3-max"
      api_base: "https://dashscope.aliyuncs.com/compatible-mode/v1"
      api_key: "YOUR_API_KEY"

  # æœ¬åœ°Ollamaæ¨¡å‹
  - model_name: "qwen3-4b-local"
    litellm_params:
      model: "ollama/qwen3:4b"
      api_base: "http://localhost:11434"
```

### ç¯å¢ƒå˜é‡é…ç½®

åœ¨ `.env` æ–‡ä»¶ä¸­é…ç½®å…³é”®å‚æ•°ï¼š

```env
# ====================
# LLMé…ç½®
# ====================
RESEARCH_LLM_MODEL="qwen3-max"      # ç ”ç©¶ä¸»æ¨¡å‹
DOCLING_VLM_MODEL="glm-4v-plus"     # æ–‡æ¡£è§£æVLM
EMBEDDING_LLM_MODEL="qwen3-embedding-4b-local"

# ====================
# OpenSearché…ç½®
# ====================
OPENSEARCH_HOST="localhost"
OPENSEARCH_PORT=9200
OPENSEARCH_INDEX_NAME="rag_system_chunks_async"

# ====================
# Langfuseè¿½è¸ª
# ====================
LANGFUSE_SECRET_KEY="sk-..."
LANGFUSE_PUBLIC_KEY="pk-..."
LANGFUSE_BASE_URL="http://localhost:3000"

# ====================
# TEIé‡æ’åºå™¨
# ====================
TEI_RERANK_BASE_URL="http://localhost:8082"
```

---

## ğŸ“– ä½¿ç”¨æŒ‡å—

### 1. ä¸Šä¼ å¹¶è§£ææ–‡æ¡£

ç‚¹å‡»"ä¸Šä¼ æ–‡æ¡£"æŒ‰é’®ï¼Œé€‰æ‹©PDFæˆ–Wordæ–‡æ¡£ã€‚ç³»ç»Ÿå°†ï¼š
- è‡ªåŠ¨è§£ææ–‡æ¡£ç»“æ„
- æå–æ–‡æœ¬ã€è¡¨æ ¼ã€å…¬å¼
- æ™ºèƒ½åˆ†å—å¹¶ç”Ÿæˆå‘é‡ç´¢å¼•

### 2. åˆ›å»ºç ”ç©¶ä»»åŠ¡

åœ¨è¾“å…¥æ¡†ä¸­æè¿°ä½ çš„ç ”ç©¶ç›®æ ‡ï¼š
- ä¾‹å¦‚ï¼š"åˆ†æå½“å‰AIå¤§æ¨¡å‹çš„å‘å±•è¶‹åŠ¿"
- ä¾‹å¦‚ï¼š"ç ”ç©¶é‡å­è®¡ç®—åœ¨é‡‘èé¢†åŸŸçš„åº”ç”¨"

### 3. æ™ºèƒ½ä½“åä½œæµç¨‹

ç³»ç»Ÿå°†è‡ªåŠ¨æ‰§è¡Œä»¥ä¸‹æµç¨‹ï¼š

1. **è§„åˆ’é˜¶æ®µ**
   - è§„åˆ’å™¨ç”Ÿæˆè¯¦ç»†ç ”ç©¶å¤§çº²
   - å±•ç¤ºç»™ç”¨æˆ·è¿›è¡Œå®¡æ ¸

2. **æ‰§è¡Œé˜¶æ®µ**
   - æ‰§è¡Œå™¨åŸºäºæ£€ç´¢çš„æ–‡æ¡£å†…å®¹è¿›è¡Œæ·±åº¦ç ”ç©¶
   - å®æ—¶æµå¼è¾“å‡ºç ”ç©¶è¿›å±•

3. **åæ€é˜¶æ®µ**
   - åæ€å™¨è¯„ä¼°ç ”ç©¶ç»“æœè´¨é‡
   - å¿…è¦æ—¶è‡ªåŠ¨è¿­ä»£ä¼˜åŒ–

4. **æŠ¥å‘Šç”Ÿæˆ**
   - æ±‡æ€»æ‰€æœ‰ç ”ç©¶ç»“æœ
   - ç”Ÿæˆç»“æ„åŒ–çš„ç ”ç©¶æŠ¥å‘Š

### 4. å®æ—¶è¿›åº¦ç›‘æ§

æ‰€æœ‰é˜¶æ®µè¿›åº¦é€šè¿‡SSEå®æ—¶ä¼ è¾“åˆ°å‰ç«¯ï¼š
- ğŸ“Š å¯è§†åŒ–è¿›åº¦æ¡
- ğŸ“ å®æ—¶æ—¥å¿—è¾“å‡º
- ğŸ”„ æ”¯æŒä¸­æ–­å’Œæ¢å¤

---

## ğŸ”Œ APIæ–‡æ¡£

### ç ”ç©¶ä»»åŠ¡æ¥å£

#### å¯åŠ¨ç ”ç©¶
```http
POST /api/research/start
Content-Type: application/json

{
  "thread_id": "unique-thread-id",
  "goal": "your research question"
}
```

#### å®æ—¶æµå¼è¾“å‡º
```http
GET /api/research/stream/{thread_id}?goal=your_question
Accept: text/event-stream
```

#### å®¡æ ¸ç ”ç©¶è®¡åˆ’
```http
POST /api/research/review
Content-Type: application/json

{
  "thread_id": "unique-thread-id",
  "action": "approve" | "revise",
  "feedback": "optional feedback"
}
```

### æ–‡æ¡£ä¸Šä¼ æ¥å£

#### ä¸Šä¼ æ–‡æ¡£
```http
POST /api/ingest/upload
Content-Type: multipart/form-data

file: [document file]
```

---

## ğŸ› ï¸ é¡¹ç›®ç»“æ„

```
deepresearch-agent/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ backend/
â”‚   â”‚   â”œâ”€â”€ api/                    # APIå±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ server.py          # FastAPIå…¥å£
â”‚   â”‚   â”‚   â””â”€â”€ schemas.py         # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ core/                  # æ ¸å¿ƒå±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ config.py          # é…ç½®ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ logging.py         # æ—¥å¿—é…ç½®
â”‚   â”‚   â”œâ”€â”€ domain/                # é¢†åŸŸå±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ models.py          # ä¸šåŠ¡æ¨¡å‹
â”‚   â”‚   â”‚   â””â”€â”€ interfaces.py      # æ¥å£å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ infrastructure/        # åŸºç¡€è®¾æ–½å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ agents/            # å¤šæ™ºèƒ½ä½“ç³»ç»Ÿ
â”‚   â”‚   â”‚   â”œâ”€â”€ parse/             # æ–‡æ¡£è§£æ
â”‚   â”‚   â”‚   â”œâ”€â”€ repository/        # æ•°æ®å­˜å‚¨
â”‚   â”‚   â”‚   â”œâ”€â”€ llm/               # LLMé›†æˆ
â”‚   â”‚   â”‚   â””â”€â”€ langfuse/          # ç›‘æ§è¿½è¸ª
â”‚   â”‚   â””â”€â”€ services/              # æœåŠ¡å±‚
â”‚   â”‚       â”œâ”€â”€ agent_service.py
â”‚   â”‚       â”œâ”€â”€ ingestion_service.py
â”‚   â”‚       â””â”€â”€ factory.py
â”‚   â””â”€â”€ frontend/
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ main.jsx           # åº”ç”¨å…¥å£
â”‚       â”‚   â”œâ”€â”€ App.jsx            # ä¸»ç»„ä»¶
â”‚       â”‚   â”œâ”€â”€ index.css          # å…¨å±€æ ·å¼
â”‚       â”‚   â””â”€â”€ App.css            # ç»„ä»¶æ ·å¼
â”‚       â”œâ”€â”€ package.json
â”‚       â””â”€â”€ vite.config.js
â”œâ”€â”€ data/                          # æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ clickhouse/               # ClickHouseæ•°æ®
â”‚   â”œâ”€â”€ minio/                    # å¯¹è±¡å­˜å‚¨
â”‚   â””â”€â”€ postgres/                 # PostgreSQLæ•°æ®
â”œâ”€â”€ models/                        # æ¨¡å‹æ–‡ä»¶
â”‚   â””â”€â”€ BAAI/bge-reranker-base
â”œâ”€â”€ uploads/                       # ä¸Šä¼ æ–‡ä»¶
â”œâ”€â”€ docker-compose.yml             # å®¹å™¨ç¼–æ’
â”œâ”€â”€ config.yaml                    # LiteLLMé…ç½®
â”œâ”€â”€ pyproject.toml                 # Pythonä¾èµ–
â”œâ”€â”€ .env                           # ç¯å¢ƒå˜é‡
â””â”€â”€ README.md                      # é¡¹ç›®æ–‡æ¡£
```

---

## ğŸ§ª å¼€å‘æŒ‡å—

### æ·»åŠ æ–°çš„LLMæ¨¡å‹

1. åœ¨ `config.yaml` ä¸­æ·»åŠ æ¨¡å‹é…ç½®
2. åœ¨ `src/backend/llm/factory.py` ä¸­æ³¨å†Œæ¨¡å‹
3. æ›´æ–° `.env` æ–‡ä»¶ä¸­çš„æ¨¡å‹åç§°

### è‡ªå®šä¹‰æ™ºèƒ½ä½“æç¤ºè¯

æç¤ºè¯æ¨¡æ¿ä½äº `src/backend/infrastructure/agents/prompt/`ï¼š
- `planner_prompt.py` - è§„åˆ’å™¨æç¤ºè¯
- `worker_prompt.py` - æ‰§è¡Œå™¨æç¤ºè¯
- `reflector_prompt.py` - åæ€å™¨æç¤ºè¯
- `reporter_prompt.py` - æŠ¥å‘Šç”Ÿæˆæç¤ºè¯

### æ‰©å±•æ–‡æ¡£è§£æå™¨

1. åœ¨ `src/backend/infrastructure/parse/` ä¸‹åˆ›å»ºæ–°çš„è§£æå™¨
2. å®ç° `Ingestor` æ¥å£
3. åœ¨ `factory.py` ä¸­æ³¨å†Œè§£æå™¨

---

## ğŸš¢ éƒ¨ç½²

### ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²

#### 1. ä½¿ç”¨Docker Compose

```bash
# æ„å»ºå¹¶å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose -f docker-compose.yml -f docker-compose.prod.yml up -d
```

#### 2. ä½¿ç”¨Kubernetes

é¡¹ç›®æ”¯æŒKuberneteséƒ¨ç½²ï¼Œè¯¦è§ `k8s/` ç›®å½•ä¸‹çš„éƒ¨ç½²æ¸…å•ã€‚

#### 3. äº‘åŸç”Ÿéƒ¨ç½²

æ”¯æŒéƒ¨ç½²åˆ°ï¼š
- **AWS** (ECS/EKS)
- **Azure** (Container Instances/AKS)
- **GCP** (Cloud Run/GKE)

---

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### ç³»ç»Ÿè°ƒä¼˜å»ºè®®

1. **GPUé…ç½®**
   - ä½¿ç”¨RTX 4090/3090åŠ é€ŸBGEé‡æ’åº
   - é…ç½®CUDAå†…å­˜æ± ä¼˜åŒ–

2. **OpenSearchä¼˜åŒ–**
   - è°ƒæ•´JVMå †å†…å­˜ï¼š`OPENSEARCH_JAVA_OPTS=-Xms2g -Xmx2g`
   - é…ç½®SSDå­˜å‚¨æå‡IOæ€§èƒ½
   - å¼€å¯ç´¢å¼•å‹ç¼©

3. **æ¨¡å‹ç¼“å­˜**
   - é…ç½®Redisç¼“å­˜LLMå“åº”
   - ä½¿ç”¨TEI Rerankerçš„GPUå†…å­˜ç¼“å­˜

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿æ‰€æœ‰å½¢å¼çš„è´¡çŒ®ï¼

### æäº¤PRæµç¨‹

1. Forkæœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ï¼š`git checkout -b feature/amazing-feature`
3. æäº¤æ›´æ”¹ï¼š`git commit -m 'feat: add amazing feature'`
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/amazing-feature`
5. æäº¤Pull Request

### æŠ¥å‘ŠBug

ä½¿ç”¨GitHub IssuesæŠ¥å‘ŠBugï¼Œè¯·åŒ…å«ï¼š
- è¯¦ç»†çš„å¤ç°æ­¥éª¤
- ç³»ç»Ÿç¯å¢ƒä¿¡æ¯
- é”™è¯¯æ—¥å¿—
- æœŸæœ›çš„è¡Œä¸º

### æå‡ºFeature Request

æˆ‘ä»¬æœŸå¾…å¬åˆ°æ‚¨çš„æƒ³æ³•ï¼è¯·åœ¨Issueä¸­è¯¦ç»†æè¿°ï¼š
- åŠŸèƒ½ç›®æ ‡
- ä½¿ç”¨åœºæ™¯
- é¢„æœŸæ•ˆæœ

---

## ğŸ“ˆ è·¯çº¿å›¾

### v1.1 (è§„åˆ’ä¸­)
- [ ] æ”¯æŒæ›´å¤šæ–‡æ¡£æ ¼å¼ (Excel, PPT, Markdown)
- [ ] é›†æˆWebæœç´¢èƒ½åŠ›
- [ ] å¤šè¯­è¨€æ–‡æ¡£æ”¯æŒ
- [ ] åä½œç ”ç©¶æŠ¥å‘Šåˆ†äº«

### v1.2 (è§„åˆ’ä¸­)
- [ ] å¯è§†åŒ–ç ”ç©¶æµç¨‹ç¼–è¾‘å™¨
- [ ] è‡ªå®šä¹‰æ™ºèƒ½ä½“æç¤ºè¯UI
- [ ] ç ”ç©¶æ¨¡æ¿ç³»ç»Ÿ
- [ ] æ‰¹é‡ç ”ç©¶ä»»åŠ¡

### v2.0 (å±•æœ›)
- [ ] å¤šæ¨¡æ€æ™ºèƒ½ä½“ï¼ˆå›¾åƒã€è§†é¢‘ï¼‰
- [ ] å®æ—¶åä½œç¼–è¾‘
- [ ] çŸ¥è¯†å›¾è°±å¯è§†åŒ–
- [ ] ä¼ä¸šçº§SSOé›†æˆ

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäºMITè®¸å¯è¯å¼€æº - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®ï¼š
- [LangGraph](https://langchain-ai.github.io/langgraph) - æ™ºèƒ½ä½“ç¼–æ’æ¡†æ¶
- [Docling](https://github.com/DS4SD/docling) - æ–‡æ¡£è§£æå¼•æ“
- [OpenSearch](https://opensearch.org) - æœç´¢å¼•æ“
- [FastAPI](https://fastapi.tiangolo.com) - Webæ¡†æ¶
- [React](https://reactjs.org) - å‰ç«¯æ¡†æ¶

---

## ğŸ“ è”ç³»æˆ‘ä»¬

- ğŸ› é—®é¢˜åé¦ˆï¼š[GitHub Issues](https://github.com/your-org/deepresearch-agent/issues)
- ğŸ’¬ ç¤¾åŒºè®¨è®ºï¼š[GitHub Discussions](https://github.com/your-org/deepresearch-agent/discussions)
- ğŸ“§ é‚®ç®±ï¼šdeepresearch@example.com
- ğŸ¦ Twitterï¼š[@DeepresearchAI](https://twitter.com/DeepresearchAI)

---

<div align="center">
  <b>è®©AIä¸ºæ‚¨çš„ç ”ç©¶åŠ é€Ÿ ğŸš€</b>
  <br>
  <i>å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª â­</i>
</div>
